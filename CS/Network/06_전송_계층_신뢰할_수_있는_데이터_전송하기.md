## Lesson 23 전송 계층의 역할

---

- 전송 계층
  - 목적지에 신뢰할 수 있는 데이터를 전송하기 위해 필요
  - 오류를 점건검하는 기능이 있어 오류가 발생하면 데이터를 재전송하도록 요청 가능
  - 전송된 데이터의 목적지가 어떤 애플리케이션인지 식별
  - 신뢰성/정확성 (연결형 통신, TCP)
    - 데이터를 목적지에 문제 없이 전달하는 것

  - 효율성 (비연결형 통신, UDP)
    - 데이터를 빠르고 효율적으로 전달하는 것
  




## Lesson 24 TCP의 구조

---

- TCP 헤더
  - TCP로 전송할 때 붙이는 헤더
  - TCP 헤더가 붙은 데이터를 세그먼트(segment)라고 함

- 코드비트

  - 코드비트에 연결의 제어 정보가 기록된다.
  - 초기 값은 0이고, 비트가 활성화 되면 0
  - SYN - 연결 요청
  - ACK - 확인 응답
  - FIN - 연결 종료 (ACK와 함께)

- 3-Way 핸드셰이크

  - 보내는 컴퓨터에서 연결확립 요청(SYN)

  - 받는 컴퓨터에서 연결확립 응답 + 연결 확립 요청 보내기 (ACK + SYN)

  - 보냈던 컴퓨터에서 연결 확립 응답 (ACK)

    


## LESSON 25 일련번호와 확인 응답 번호의 구조

---

- 상대방이 데이터를 받을 때 TCP 헤더의 일련번호와 확인응답번호 사용

- 일련번호(sequence number)
  - 송신측에서 수신측에 이 데이터가 몇 번째 데이터인지 알려주는 역할
- 확인응답번호(Acknowledgement number)
  - 수신 측이 몇번째 데이터를 수신했는지 송신측에 알려주는 역할. **확인응답**



- 데이터가 손상되거나 유실된 경우 데이터를 재전송(재전송 제어)
- 버퍼
  - 받은 세그먼트를 일시적으로 저장하는 장소
  - 오버플로
    - 대량으로 받아 보관하지 못하고 넘치는 경우
- 윈도우 크기
  - 버퍼 용량의 크기



## LESSON 26 포트 번호 구조

---

- 포트 번호(Port Number)

  - 어떤 애플리케이션인지 구분하는 역할
  - 출발지/목적지 포트번호 필요
  - 잘 알려진 포트 (well-known ports)
    - 0~1023
  - 사용되지 않는 포트
    - 1024
    - 예약은 되어있지만 사용하지 않는 포트
  - 랜덤포트
    - 1025번 이상  ~ 65535



## LESSON 27 - UDP의 구조

---

- UDP(User Datagram Protocol, 사용자 데이터그램 프로토콜)

  - 비연결형 통신 - 연결에 대한 초기화 과정이 없는 통신
  - 데이터를 효율적으로 빠르게 보내는 것

- UDP 데이터 그램

  - UDP 헤더가 붙은 데이터

  1. 출발지 포트 번호 (16비트)
  2. 목적지 포트 번호 (16비트)
  3. 길이 (16비트)
  4. 체크섬 (16비트)

- 브로드캐스트

  - 랜에 있는 컴퓨터나 네트워크 장비에 데이터를 일괄 보낼 수 있음
  - 불특정 다수에게 보내는 통신에 적합

<aside> 📎 **체크섬**

간단하게 에러 검출을 하는 방법

1. 송신측

   전송할 모든데이터를 16비트 워드단위로 구분 후 1의 보수를 취하고, 그 합에 대한 결과를 전송

2. 수신측

   합을 확인하여 오류 여부 판단

cf) UDP 체크섬은 선택 사항 ↔ TCP는 필수

</aside>

